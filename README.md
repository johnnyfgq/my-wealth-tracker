# 全球多币种资产追踪器 🌍💰

> 一个极简、高端、支持多币种的个人理财驾驶舱原型

![Version](https://img.shields.io/badge/version-3.0-brightgreen)
![License](https://img.shields.io/badge/license-MIT-blue)

## 📋 项目简介

这是一个**单页面 Web 应用**，专为追求极简主义和高效率的个人投资者设计。采用 Dark Mode 深色主题，融合毛玻璃效果（Glassmorphism）和流畅动画，提供类似 Bloomberg 专业理财终端的视觉体验。

**核心理念**：
- 📊 数据驱动：交易流水自动计算持仓和收益
- 🌐 全球视野：支持人民币、美元、港币多币种资产管理
- 🎨 极简设计：单文件架构，无需后端，开箱即用
- 🔒 隐私优先：所有数据存储在本地浏览器 LocalStorage

---

## ✨ 当前功能（v3.0）

### 🎯 核心功能

#### 1. 多币种资产管理
- **支持币种**：人民币（CNY）、美元（USD）、港币（HKD）
- **汇率转换**：所有资产统一折算为本位币展示
- **本位币切换**：一键切换人民币/美元视图，全局数据实时转换
- **智能推断**：根据市场类型自动推断默认货币（A股→CNY，美股→USD，港股→HKD）

#### 2. 四类资产分类
- **现金与等现金**：银行存款、活期、货币基金
- **权益类**：股票、偏股基金
- **固定收益**：银行定存、债基、理财产品
- **另类资产**：房产、黄金、虚拟货币

#### 3. 交易流水驱动引擎
- **买入/卖出记录**：记录每笔交易的日期、价格、数量
- **持仓自动计算**：根据交易流水聚合计算当前持仓、平均成本、盈亏
- **多市场支持**：A股、港股、美股、国内基金
- **实时净值更新**：
  - 国内基金：通过天天基金 JSONP API 自动获取最新净值
  - 美股/港股：通过 Finnhub API 获取实时报价（需配置 API Key）

#### 4. 银行定存管理
- **到期日倒计时**：显示距离到期天数/今日到期/已到期状态
- **年化利率记录**：记录定存/理财的年化利率
- **收益预测**：基于利率自动计算预期收益

#### 5. 可视化仪表盘

##### 📈 折线图：资产增长趋势
- 基于当前总资产和年化收益率，模拟未来 10 年资产增长曲线
- 支持滑动条动态调节收益率（0%-20%），实时更新图表

##### 🍰 饼图：资产分布（双维度）
- **按类别维度**：现金与等现金、权益类、固定收益、另类资产
- **按币种维度**：CNY、USD、HKD 占比
- 一键切换视图，支持百分比和金额显示

##### 📊 财富自由进度条
- 设定目标金额（如 1000 万），实时显示当前进度百分比
- 支持本位币切换后的动态计算

#### 6. 手动资产录入
- **现金与等现金**：现金、活期存款
- **固定收益**：银行定存（含到期日、年化利率）
- **另类资产**：房产、车辆等实物资产

#### 7. 数据持久化与迁移
- **LocalStorage 存储**：所有数据保存在浏览器本地
- **向后兼容**：自动检测旧版本数据格式（v1.0/v2.0），无缝迁移到 v3.0
- **数据版本标记**：`version: '3.0'`

---

## 🛠️ 技术栈

| 技术 | 用途 | 说明 |
|------|------|------|
| **HTML5** | 页面结构 | 单文件架构 |
| **Tailwind CSS CDN** | UI 样式 | 实用优先的 CSS 框架 |
| **Chart.js** | 数据可视化 | 折线图、饼图 |
| **Vanilla JavaScript** | 逻辑交互 | 无依赖，原生 ES6+ |
| **LocalStorage API** | 数据持久化 | 浏览器本地存储 |
| **天天基金 API** | 国内基金净值 | JSONP 跨域方案 |
| **Finnhub API** | 美股/港股报价 | REST API + CORS 代理 |

---

## 📦 项目结构

```
Personal Investment Tracker/
├── index.html              # 主文件（包含 HTML + CSS + JS）
├── README.md               # 项目文档
└── .cursor/
    └── plans/              # 开发计划存档
        ├── 理财驾驶舱升级规划_bf0dbda8.plan.md
        └── 全球多币种资产追踪器升级_4a5e883e.plan.md
```

---

## 🚀 快速开始

### 1. 本地运行
```bash
# 克隆仓库
git clone https://github.com/johnnyfgq/my-wealth-tracker.git

# 进入目录
cd my-wealth-tracker

# 直接用浏览器打开 index.html
open index.html  # macOS
start index.html # Windows
```

### 2. 在线预览
直接用浏览器打开 `index.html` 文件即可，无需服务器。

### 3. 配置 API Key（可选）
如需自动更新美股/港股报价，请：
1. 访问 [Finnhub](https://finnhub.io/) 注册免费账户
2. 获取 API Key
3. 在应用中「编辑数据」面板配置 API Key

---

## 📊 版本历史

### v3.0 - 全球多币种资产追踪器（当前版本）✨
**发布日期**：2026-02-11

**新增功能**：
- ✅ 多币种支持（CNY/USD/HKD）
- ✅ 本位币切换按钮
- ✅ 四类资产分类体系
- ✅ 银行定存管理（到期日、年化利率）
- ✅ 饼图双维度展示（按类别/按币种）
- ✅ 汇率折算提示
- ✅ 货币符号与国旗展示
- ✅ 数据迁移逻辑（兼容 v1.0/v2.0）

**数据模型升级**：
```javascript
// v3.0 数据结构
{
  transactions: [{ ..., currency: 'CNY', assetCategory: 'equity' }],
  manualAssets: {
    cash: [{ id, name, amount, currency }],
    fixedIncome: [{ id, name, amount, currency, maturityDate, annualRate }],
    alternative: [{ id, name, amount, currency }]
  },
  exchangeRates: { CNY: 1, USD: 7.2, HKD: 0.92 },
  baseCurrency: 'CNY'
}
```

### v2.0 - 交易流水驱动引擎
**发布日期**：2026-02-10

**核心改进**：
- 从静态金额模式升级为交易流水驱动
- 添加持仓计算引擎
- 集成天天基金和 Finnhub API
- 实时净值/报价刷新功能

### v1.0 - 基础理财驾驶舱
**发布日期**：2026-02-09

**初始功能**：
- 财富自由倒计时进度条
- 三类资产卡片（流动/固定/风险）
- 资产增长折线图
- 年化收益率模拟器
- LocalStorage 数据持久化

---

## 🎯 未来路线图

### 🔜 近期计划（v3.1 - v3.5）

#### v3.1 - 编辑与删除功能
- [ ] 手动资产编辑/删除功能
- [ ] 交易记录编辑/删除功能
- [ ] 批量操作支持

#### v3.2 - 实时汇率 API
- [ ] 接入实时汇率 API（如 ExchangeRate-API）
- [ ] 汇率自动刷新机制
- [ ] 汇率历史记录

#### v3.3 - 资产详情页
- [ ] 单个资产的详细页面
- [ ] 历史净值/价格走势图
- [ ] 分红/利息记录

#### v3.4 - 数据导入/导出
- [ ] 导出为 CSV/Excel
- [ ] 从 CSV/Excel 导入交易记录
- [ ] JSON 数据备份与恢复

#### v3.5 - 报表与统计
- [ ] 月度/年度资产变化报表
- [ ] 收益率排行榜
- [ ] 资产配置建议

### 🚧 中期愿景（v4.0+）

#### v4.0 - 后端化与云同步
- [ ] 后端 API（Node.js + MongoDB）
- [ ] 用户认证与多设备同步
- [ ] 数据安全加密

#### v4.5 - 高级功能
- [ ] 股息/分红自动记录
- [ ] 定投计划管理
- [ ] 再平衡建议算法
- [ ] AI 资产配置助手

#### v5.0 - 移动端与 PWA
- [ ] 响应式设计优化
- [ ] PWA 支持（离线使用）
- [ ] 移动端原生 App（React Native）

---

## 💡 使用技巧

### 1. 如何添加资产？
- 点击「添加资产」按钮
- 选择市场类型（A股/港股/美股/国内基金）
- 填写代码、价格、数量
- 选择货币和资产类别
- 国内基金可选「自动获取最新净值」

### 2. 如何记录银行定存？
- 选择资产类别为「固定收益」
- 填写到期日和年化利率
- 系统会自动显示距离到期天数

### 3. 如何切换本位币？
- 点击 Header 区域的「¥ 人民币」或「$ 美元」按钮
- 所有金额会自动按汇率转换显示

### 4. 如何查看资产分布？
- 饼图区域点击「按类别」查看四类资产占比
- 点击「按币种」查看不同货币资产占比

### 5. 数据存储在哪里？
- 所有数据存储在浏览器的 LocalStorage
- **注意**：清除浏览器缓存会丢失数据
- 建议定期手动备份（未来版本将支持导出）

---

## 🐛 已知问题与限制

1. **CORS 限制**：
   - 美股/港股 API 需通过公共代理访问，可能存在速率限制
   - 建议自行搭建 CORS 代理或使用付费 API 服务

2. **汇率更新**：
   - 当前汇率为手动配置（USD: 7.2, HKD: 0.92）
   - v3.2 将支持实时汇率 API

3. **数据备份**：
   - 依赖浏览器 LocalStorage，清除缓存会丢失数据
   - v3.4 将支持数据导出功能

4. **离线使用**：
   - 需要 CDN 资源（Tailwind CSS、Chart.js）
   - v5.0 将支持 PWA 完全离线使用

---

## 🤝 贡献指南

欢迎提交 Issue 和 Pull Request！

### 开发流程
1. Fork 本仓库
2. 创建特性分支：`git checkout -b feature/AmazingFeature`
3. 提交更改：`git commit -m 'Add some AmazingFeature'`
4. 推送到分支：`git push origin feature/AmazingFeature`
5. 提交 Pull Request

### 代码规范
- 使用 ES6+ 语法
- 函数注释使用中文
- 变量命名采用驼峰式（camelCase）

---

## 📄 开源协议

本项目采用 [MIT License](LICENSE) 开源协议。

---

## 👨‍💻 作者

**Johnny**
- GitHub: [@johnnyfgq](https://github.com/johnnyfgq)

---

## 🙏 致谢

- [Tailwind CSS](https://tailwindcss.com/) - 实用优先的 CSS 框架
- [Chart.js](https://www.chartjs.org/) - 简洁易用的图表库
- [天天基金](https://fund.eastmoney.com/) - 国内基金数据来源
- [Finnhub](https://finnhub.io/) - 全球股票实时数据

---

## 📮 联系方式

如有问题或建议，欢迎通过以下方式联系：
- 提交 [GitHub Issue](https://github.com/johnnyfgq/my-wealth-tracker/issues)
- 发送邮件至：your-email@example.com（待补充）

---

<div align="center">

**⭐ 如果这个项目对你有帮助，欢迎 Star ⭐**

**投资有风险，决策需谨慎** 🚀

Made with ❤️ by Johnny

</div>
